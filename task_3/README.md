# –ó–∞–≤–¥–∞–Ω–Ω—è 3 (–Ω–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–µ): –ê–Ω–∞–ª—ñ–∑ —Ñ–∞–π–ª—ñ–≤ –ª–æ–≥—ñ–≤

## –û–ø–∏—Å –∑–∞–≤–¥–∞–Ω–Ω—è

–†–æ–∑—Ä–æ–±–∫–∞ Python-—Å–∫—Ä–∏–ø—Ç—É –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —Ñ–∞–π–ª—ñ–≤ –ª–æ–≥—ñ–≤. –°–∫—Ä–∏–ø—Ç —á–∏—Ç–∞—î –ª–æ–≥-—Ñ–∞–π–ª, –ø—ñ–¥—Ä–∞—Ö–æ–≤—É—î —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ —Ä—ñ–≤–Ω—è–º–∏ –ª–æ–≥—É–≤–∞–Ω–Ω—è (INFO, ERROR, DEBUG, WARNING) —Ç–∞ –º–æ–∂–µ —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Å–∏ –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–º —Ä—ñ–≤–Ω–µ–º.

## –ö–ª—é—á–æ–≤—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó

### 1. **–ê—Ä–≥—É–º–µ–Ω—Ç–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ (sys.argv)**
–°–∫—Ä–∏–ø—Ç –ø—Ä–∏–π–º–∞—î —à–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É —Ç–∞ –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —Ä—ñ–≤–µ–Ω—å –ª–æ–≥—É–≤–∞–Ω–Ω—è —è–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–∏.

### 2. **–†–æ–±–æ—Ç–∞ –∑ —Ñ–∞–π–ª–∞–º–∏ (Path, open)**
–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `pathlib.Path` –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑—ñ —à–ª—è—Ö–∞–º–∏ —Ç–∞ –±–µ–∑–ø–µ—á–Ω–µ —á–∏—Ç–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤.

### 3. **–û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ (try/except)**
–ö–æ—Ä–µ–∫—Ç–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Ö —Ñ–∞–π–ª—ñ–≤ —Ç–∞ –ø–æ–º–∏–ª–æ–∫ —á–∏—Ç–∞–Ω–Ω—è.

### 4. **–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–µ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è**
- `filter()` –∑ lambda –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –ª–æ–≥—ñ–≤ –∑–∞ —Ä—ñ–≤–Ω–µ–º
- `map()` –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä—ñ–≤–Ω—ñ–≤ –ª–æ–≥—É–≤–∞–Ω–Ω—è
- –õ—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ –∫–æ–¥—É

## –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

### 1. `parse_log_line(line: str) -> dict`
–ü–∞—Ä—Å–∏—Ç—å —Ä—è–¥–æ–∫ –ª–æ–≥—É —Ç–∞ –ø–æ–≤–µ—Ä—Ç–∞—î —Å–ª–æ–≤–Ω–∏–∫ –∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏:
```python
{
    'date': '2024-01-22',
    'time': '08:30:01',
    'level': 'INFO',
    'message': 'User logged in successfully.'
}
```

### 2. `load_logs(file_path: str) -> list`
–ó–∞–≤–∞–Ω—Ç–∞–∂—É—î –ª–æ–≥–∏ –∑ —Ñ–∞–π–ª—É —Ç–∞ –ø–∞—Ä—Å–∏—Ç—å –∫–æ–∂–µ–Ω —Ä—è–¥–æ–∫.

### 3. `filter_logs_by_level(logs: list, level: str) -> list`
–§—ñ–ª—å—Ç—Ä—É—î –ª–æ–≥–∏ –∑–∞ —Ä—ñ–≤–Ω–µ–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ `filter()` —Ç–∞ lambda:
```python
filter(lambda log: log.get('level', '').upper() == level.upper(), logs)
```

### 4. `count_logs_by_level(logs: list) -> dict`
–ü—ñ–¥—Ä–∞—Ö–æ–≤—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Å—ñ–≤ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ `map()`.

### 5. `display_log_counts(counts: dict)`
–í–∏–≤–æ–¥–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —É –≤–∏–≥–ª—è–¥—ñ —Ç–∞–±–ª–∏—Ü—ñ.

### 6. `display_filtered_logs(logs: list, level: str)`
–í–∏–≤–æ–¥–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –¥–ª—è –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä–æ–≤–∞–Ω–∏—Ö –ª–æ–≥—ñ–≤.

## –§–æ—Ä–º–∞—Ç –ª–æ–≥-—Ñ–∞–π–ª—É

```
YYYY-MM-DD HH:MM:SS LEVEL Message text
```

–ü—Ä–∏–∫–ª–∞–¥:
```
2024-01-22 08:30:01 INFO User logged in successfully.
2024-01-22 09:00:45 ERROR Database connection failed.
```

## –ó–∞–ø—É—Å–∫

### 1. –¢—ñ–ª—å–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
```bash
cd task_3
python task_3.py logfile.log
```

### 2. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ + —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ —Ä—ñ–≤–Ω–µ–º:
```bash
python task_3.py logfile.log error
python task_3.py logfile.log info
python task_3.py logfile.log debug
python task_3.py logfile.log warning
```

## –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ü—Ä–∏–∫–ª–∞–¥ 1: –ó–∞–≥–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```bash
python task_3.py logfile.log
```

**–í–∏–≤—ñ–¥:**
```
üìÇ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ª–æ–≥—ñ–≤ –∑ —Ñ–∞–π–ª—É: logfile.log
‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ 10 –∑–∞–ø–∏—Å—ñ–≤

–†—ñ–≤–µ–Ω—å –ª–æ–≥—É–≤–∞–Ω–Ω—è | –ö—ñ–ª—å–∫—ñ—Å—Ç—å
-----------------|----------
INFO             | 4
DEBUG            | 3
WARNING          | 1
ERROR            | 2
```

### –ü—Ä–∏–∫–ª–∞–¥ 2: –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ —Ä—ñ–≤–Ω–µ–º ERROR

```bash
python task_3.py logfile.log error
```

**–í–∏–≤—ñ–¥:**
```
üìÇ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ª–æ–≥—ñ–≤ –∑ —Ñ–∞–π–ª—É: logfile.log
‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ 10 –∑–∞–ø–∏—Å—ñ–≤

–†—ñ–≤–µ–Ω—å –ª–æ–≥—É–≤–∞–Ω–Ω—è | –ö—ñ–ª—å–∫—ñ—Å—Ç—å
-----------------|----------
INFO             | 4
DEBUG            | 3
WARNING          | 1
ERROR            | 2

–î–µ—Ç–∞–ª—ñ –ª–æ–≥—ñ–≤ –¥–ª—è —Ä—ñ–≤–Ω—è 'ERROR':
2024-01-22 09:00:45 - Database connection failed.
2024-01-22 11:30:15 - Backup process failed.
```

## –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

### –§–∞–π–ª –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ:
```bash
python task_3.py nonexistent.log
```
```
‚ùå –ü–æ–º–∏–ª–∫–∞: –§–∞–π–ª 'nonexistent.log' –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
```

### –ù–µ –≤–∫–∞–∑–∞–Ω–æ —Ñ–∞–π–ª:
```bash
python task_3.py
```
```
‚ùå –ü–æ–º–∏–ª–∫–∞: –ù–µ –≤–∫–∞–∑–∞–Ω–æ —à–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É –ª–æ–≥—ñ–≤

–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
  python task_3.py <—à–ª—è—Ö_–¥–æ_—Ñ–∞–π–ª—É_–ª–æ–≥—ñ–≤> [—Ä—ñ–≤–µ–Ω—å_–ª–æ–≥—É–≤–∞–Ω–Ω—è]

–ü—Ä–∏–∫–ª–∞–¥:
  python task_3.py logfile.log
  python task_3.py logfile.log error
```

## –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–µ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è

### 1. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `filter()` —Ç–∞ `lambda`:
```python
# –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ª–æ–≥—ñ–≤ –∑–∞ —Ä—ñ–≤–Ω–µ–º
filtered = list(filter(lambda log: log['level'] == level, logs))
```

### 2. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `map()`:
```python
# –û—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—Å—ñ—Ö —Ä—ñ–≤–Ω—ñ–≤ –ª–æ–≥—É–≤–∞–Ω–Ω—è
levels = map(lambda log: log.get('level', 'UNKNOWN'), logs)
```

### 3. –õ—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü—ñ—ó:
```python
# –ö–æ–º–ø–∞–∫—Ç–Ω–∏–π –∫–æ–¥ –±–µ–∑ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è –æ–∫—Ä–µ–º–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π
lambda log: log.get('level', '').upper() == level.upper()
```

## –ö—Ä–∏—Ç–µ—Ä—ñ—ó –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

- ‚úÖ –°–∫—Ä–∏–ø—Ç –ø—Ä–∏–π–º–∞—î —à–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É —è–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞
- ‚úÖ –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –∑–∞ —Ä—ñ–≤–Ω–µ–º –ª–æ–≥—É–≤–∞–Ω–Ω—è
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –ª–æ–≥—ñ–≤ –∑ —Ñ—É–Ω–∫—Ü—ñ—î—é `parse_log_line()`
- ‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ª–æ–≥—ñ–≤ –∑ —Ñ—É–Ω–∫—Ü—ñ—î—é `load_logs()`
- ‚úÖ –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑ —Ñ—É–Ω–∫—Ü—ñ—î—é `filter_logs_by_level()`
- ‚úÖ –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –∑ —Ñ—É–Ω–∫—Ü—ñ—î—é `count_logs_by_level()`
- ‚úÖ –§–æ—Ä–º–∞—Ç–æ–≤–∞–Ω–∏–π –≤–∏–≤—ñ–¥ —Ç–∞–±–ª–∏—Ü—ñ –∑ —Ñ—É–Ω–∫—Ü—ñ—î—é `display_log_counts()`
- ‚úÖ –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ (FileNotFoundError, IOError)
- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è (filter, map, lambda)
- ‚úÖ –ß–∏—Å—Ç–∏–π –∫–æ–¥ –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—è–º–∏ —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é

## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –º–æ–¥—É–ª—ñ:
- `sys` - —Ä–æ–±–æ—Ç–∞ –∑ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞
- `pathlib.Path` - —Ä–æ–±–æ—Ç–∞ –∑—ñ —à–ª—è—Ö–∞–º–∏ —Ñ–∞–π–ª—ñ–≤
- `typing` - type hints –¥–ª—è –∫—Ä–∞—â–æ—ó —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ

### Type Hints:
- `parse_log_line(line: str) -> Dict[str, str]`
- `load_logs(file_path: str) -> List[Dict[str, str]]`
- `filter_logs_by_level(logs: List[Dict[str, str]], level: str) -> List[Dict[str, str]]`
- `count_logs_by_level(logs: List[Dict[str, str]]) -> Dict[str, int]`

## –¢–µ—Å—Ç–æ–≤–∏–π —Ñ–∞–π–ª

–í –ø–∞–ø—Ü—ñ task_3 —î —Ñ–∞–π–ª `logfile.log` –∑ –ø—Ä–∏–∫–ª–∞–¥–∞–º–∏ –ª–æ–≥—ñ–≤ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è.

